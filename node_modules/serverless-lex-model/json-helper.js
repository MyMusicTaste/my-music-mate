/**
 * Created by jongwonkim on 24/06/2017.
 */

// Tree traverse of Json object.  https://en.wikipedia.org/wiki/Tree_traversal
const traverse = function (obj, callback) {
	if (obj instanceof Array) {
		for (let i=0; i<obj.length; i++) {
			if (typeof obj[i] === "object" && obj[i]) {
				// callback(obj, i);
				traverse(obj[i], callback);
			} else {
				callback(obj, i);
			}
		}
	} else {
		for (const prop in obj) {
			if (typeof obj[prop] === "object" && obj[prop]) {
				// callback(obj, prop);
				traverse(obj[prop], callback);
			} else {
				callback(obj, prop);
			}
		}
	}
};

module.exports = {
  traverse
};
