/**
 * Created by jongwonkim on 24/06/2017.
 */

const config = {
	'${self:provider.region}': 'us-east-1',
	'${AWS::AccountId}': '120387605022',  // TODO-JW Remove this hardcoded aws account id.
	'${self:custom.namespace}': 'mmt-dev'
};

const sanitize = function (obj, key) {
	let value = obj[key];
	Object.keys(config).forEach((key) => {
		if (value.replace instanceof Function) {
			value = value.replace(key, config[key]);
		}
	});
	obj[key] = value;
};

const setConfig = function(properties) {
	Object.keys(properties).forEach((key) => {
		config[key] = properties[key];
	});
};

module.exports = {
  sanitize,
	setConfig
};
